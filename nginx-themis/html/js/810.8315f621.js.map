{"version":3,"file":"js/810.8315f621.js","mappings":"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","sources":["webpack://themis-vue/./src/views/dp_views/DP-NewTrView.vue","webpack://themis-vue/src/views/dp_views/DP-NewTrView.vue","webpack://themis-vue/./src/views/dp_views/DP-NewTrView.vue?d128","webpack://themis-vue/./src/views/dp_views/DP-NewTrView.vue?a325"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"box3\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"../../images/uploadImage-src.jpg\")}}),_c('label',{staticClass:\"crimeTypeLable\",attrs:{\"for\":\"crimeType\"}},[_vm._v(\"犯罪类型:\")]),_vm._m(0),_c('span',{staticClass:\"crimePosition\"},[_vm._v(\"犯罪地点：\")]),_c('input',{staticClass:\"upload-crimePosition\",attrs:{\"type\":\"text\"}}),_c('span',{staticClass:\"crimeDescript\"},[_vm._v(\"犯罪描述：\")]),_c('input',{staticClass:\"upload-crimeDescript\",attrs:{\"type\":\"text\"}}),_c('span',{staticClass:\"span1\"},[_vm._v(\"凭证：\")]),_c('input',{staticClass:\"upload-inputText1\",attrs:{\"type\":\"text\"}}),_c('label',{staticClass:\"fileinput-button\"},[_c('span',[_vm._v(\"选择图片\")]),_c('input',{staticClass:\"upload-input\",attrs:{\"type\":\"file\",\"name\":\"file\",\"accept\":\"image/gif, image/jpg, image/png\"},on:{\"change\":function($event){return _vm.showImage()}}})]),_c('input',{staticClass:\"form-submit\",attrs:{\"type\":\"submit\",\"value\":\"上传\"},on:{\"click\":function($event){return _vm.uploadTr()}}})])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('select',{staticClass:\"crimeTypeSelect\",attrs:{\"id\":\"crimeType\",\"name\":\"crimeType\"}},[_c('option',{attrs:{\"value\":\"偷窃\"}},[_vm._v(\"偷窃\")]),_c('option',{attrs:{\"value\":\"抢劫\"}},[_vm._v(\"抢劫\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"right\">\r\n    <div class=\"box3\">\r\n      <img class=\"img\" src=\"../../images/uploadImage-src.jpg\" />\r\n        <label for=\"crimeType\" class=\"crimeTypeLable\">犯罪类型:</label>\r\n        <select id=\"crimeType\" name=\"crimeType\" class=\"crimeTypeSelect\">\r\n          <option value=\"偷窃\">偷窃</option>\r\n          <option value=\"抢劫\">抢劫</option>\r\n        </select>\r\n        <span class=\"crimePosition\">犯罪地点：</span><input type=\"text\" class=\"upload-crimePosition\">\r\n        <span class=\"crimeDescript\">犯罪描述：</span><input type=\"text\" class=\"upload-crimeDescript\">\r\n\r\n        <span class=\"span1\">凭证：</span><input type=\"text\" class=\"upload-inputText1\">\r\n        <label class=\"fileinput-button\">\r\n          <span>选择图片</span>\r\n          <input @change=\"showImage()\" class=\"upload-input\" type=\"file\" name=\"file\" accept=\"image/gif, image/jpg, image/png\" />\r\n        </label>\r\n        <input class=\"form-submit\" type=\"submit\" value=\"上传\" @click=\"uploadTr()\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'DP-NewTr',\r\n  data() {\r\n    return {\r\n    \r\n    }\r\n  },\r\n  methods: {\r\n    showImage() {\r\n      const input = document.querySelector('.box3 .upload-input')\r\n      if (input.files && input.files[0]) {\r\n        const reader = new FileReader()\r\n        reader.readAsDataURL(input.files[0])\r\n        reader.onload = function () {\r\n          const img = document.querySelector('.box3 .img')\r\n          img.src = reader.result\r\n          img.classList.remove('displayNone')\r\n        }\r\n        input.style.opacity = '0'\r\n      }\r\n    },\r\n    uploadTr() {\r\n      const file = document.querySelector('.upload-input').files[0]\r\n      const form = new FormData()\r\n      form.append(\"file\", file)\r\n      form.append('cre', document.querySelector('.upload-inputText1').value)\r\n      form.append('type', document.querySelector('.crimeTypeSelect').value)\r\n      form.append('spot', document.querySelector('.upload-crimePosition').value)\r\n      form.append('desc', document.querySelector('.upload-crimeDescript').value)\r\n      form.append('id', this.$parent.userId)\r\n      axios({\r\n        url: '/api/postFile',\r\n        method: 'post',\r\n        headers: {\r\n          token: sessionStorage.getItem('token'),\r\n          \"Content-Type\": 'multipart/form-data'\r\n        },\r\n        data: form\r\n      }).then(result => {\r\n        if(result.data.code == 0) {\r\n          this.$message.error('上传失败')\r\n        } else {\r\n          this.$message.success(result.data.msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$message.error('上传失败')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.box3 {\r\n  position: absolute;\r\n  left: 300px;\r\n  top: 50px;\r\n  width: 1000px;\r\n  height: 700px;\r\n  background: url(\"../../images/newTrBGI.jpg\") no-repeat;\r\n  background-size: cover;\r\n  opacity: 0.7;\r\n}\r\n\r\n.right .box3 .img {\r\n  position: absolute;\r\n  left: 200px;\r\n  top: 180px;\r\n  width: 500px;\r\n  height: 350px;\r\n  overflow: hidden;\r\n}\r\n\r\n.box3 .crimeTypeLable {\r\n  position: absolute;\r\n  left: 100px;\r\n  top: 115px;\r\n}\r\n\r\n.box3 .crimeTypeSelect {\r\n  position: absolute;\r\n  left: 180px;\r\n  top: 118px;\r\n}\r\n\r\n.box3 .crimePosition {\r\n  position: absolute;\r\n  left: 265px;\r\n  top: 115px;\r\n}\r\n\r\n.box3 .crimeDescript {\r\n  position: absolute;\r\n  left: 560px;\r\n  top: 115px;\r\n}\r\n\r\n.box3 .upload-crimePosition {\r\n  position: absolute;\r\n  left: 350px;\r\n  top: 118px;\r\n}\r\n\r\n.box3 .upload-crimeDescript {\r\n  position: absolute;\r\n  left: 650px;\r\n  top: 118px;\r\n}\r\n\r\n.box3 .span1 {\r\n  position: absolute;\r\n  left: 140px;\r\n  top: 55px;\r\n}\r\n\r\n.right .box3 .upload-inputText1 {\r\n  position: absolute;\r\n  left: 180px;\r\n  top: 50px;\r\n  width: 600px;\r\n  height: 30px;\r\n}\r\n\r\n.box3 .fileinput-button {\r\n  position: absolute;\r\n  left: 710px;\r\n  top: 200px;\r\n  background-color: #23c6c8;\r\n  display: inline-block;\r\n  width: 80px;\r\n  height: 280px;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  font-size: 50px;\r\n  vertical-align: center;\r\n  border: 1px solid #23c6c8;\r\n  color: #fff;\r\n  border-radius: 10px;\r\n}\r\n\r\n.right .box3 .upload-input {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  opacity: 0;\r\n}\r\n\r\n.right .box3 .form-submit {\r\n  position: absolute;\r\n  left: 350px;\r\n  top: 580px;\r\n  background-color: #23c6c8;\r\n  display: inline-block;\r\n  width: 250px;\r\n  height: 80px;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  font-size: 50px;\r\n  vertical-align: center;\r\n  border: 1px solid #23c6c8;\r\n  color: #fff;\r\n  border-radius: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DP-NewTrView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DP-NewTrView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DP-NewTrView.vue?vue&type=template&id=15776a10\"\nimport script from \"./DP-NewTrView.vue?vue&type=script&lang=js\"\nexport * from \"./DP-NewTrView.vue?vue&type=script&lang=js\"\nimport style0 from \"./DP-NewTrView.vue?vue&type=style&index=0&id=15776a10&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","require","_v","_m","on","$event","showImage","uploadTr","staticRenderFns","name","data","methods","input","document","querySelector","files","reader","FileReader","readAsDataURL","onload","img","src","result","classList","remove","style","opacity","file","form","FormData","append","value","$parent","userId","axios","url","method","headers","token","sessionStorage","getItem","then","code","$message","error","success","msg","catch","component"],"sourceRoot":""}